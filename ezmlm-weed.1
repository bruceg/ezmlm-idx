.\" $Id$
.TH ezmlm-weed 1
.SH NAME
ezmlm-weed \- weed out useless messages
.SH SYNOPSIS
.B ezmlm-weed
.SH DESCRIPTION
.B ezmlm-weed
reads a mail message from its standard input.
If it recognizes the message as an MTA warning message or success message,
or as a message with precedence ``bulk'' or ``junk'' as generated by
vacation autoresponders,
it exits 99;
this will cause
.B qmail-alias
to skip all further delivery instructions if
.B ezmlm-weed
is run from a
.B .qmail
file.
If the message seems innocent,
.B ezmlm-weed
exits 0.
.B ezmlm-weed
exits 111 if it runs out of memory.
.SH "RECOGNIZED FORMATS"
Generic success message, recommended for all MTAs:

.EX
   Subject: success notice
.EE

Generic warning message, recommended for all MTAs:

.EX
   Subject: deferral notice
.EE

Delivery-status notification (DSN, rfc1891). All DSN messages with ``Action''
other than ``failed'':

.EX
   Content-type: multipart/report
.EE

Warning message from sendmail, MIME form:

.EX
   From: Mail Delivery Subsystem
   Subject: Warning
   Auto-Submitted: auto-generated (warning-timeout)
   This is a MIME-encapsulated message
   THIS IS A WARNING MESSAGE ONLY
.EE

Non-MIME form:

.EX
   From: Mail Delivery Subsystem
   Subject: Warning
   Auto-Submitted: auto-generated (warning-timeout)
   THIS IS A WARNING MESSAGE ONLY
.EE

Warning message from older version of sendmail:

.EX
   From: Mail Delivery Subsystem
   Subject: Returned mail: warning
   This is a MIME-encapsulated message
   THIS IS A WARNING MESSAGE ONLY
.EE

Non-MIME form:

.EX
   From: Mail Delivery Subsystem
   Subject: Returned mail: warning
   THIS IS A WARNING MESSAGE ONLY
.EE

Notification messages from Novell Groupwise:

.EX
  Subject: Message status - delivered
  Subject: Message status - opened
  Subject: Out of Office AutoReply:
.EE

Various autoresponders:

.EX
  Precedence: bulk
  Precedence: junk
  Auto-Submitted: auto-replied
  Thread-Topic: AutoResponse
  Subject: AutoResponse -
  X-Amazon-Auto-Reply:
  X-Mailer: KANA Response
  Thread-Topic: AutoResponse
  Auto-Submitted:
.EE

Mailing list indicators:

.EX
  Precedence: list
  Mailing-List:
  List-ID:
  X-Mailing-List:
  X-ML-Name:
  List-Help:
  List-Unsubscribe:
  List-Post:
  List-Owner:
  List-Archive;
.EE

.SH "SEE ALSO"
ezmlm-return(1),
qmail-command(8)
